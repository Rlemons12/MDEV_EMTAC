<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Efficient Maintenance and Technical Assistance Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index_styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/redbanner.css') }}">
</head>
<body>
    <div class="banner">
        THIS IS FOR REFERENCE ONLY. ALL INFORMATION SHOULD BE VERIFIED WITH CURRENT SOP'S
    </div>

    </div>
    <span id="sidebarCollapse">&#9776; Menu</span>
    <div class="main-container">
        <!-- Left side content (Sidebar) -->
        <div class="sidebar">
            <a href="javascript:void(0)" class="close-btn" id="closeSidebar">&times;</a>
            <h1>EMTAC</h1>
            <h2>Welcome {{ name }} how can I assist you?</h2>
            <button id="toggle-voice" class="toggle-button">Toggle Voice Recognition</button>
            <button id="toggle-text-to-speech" class="toggle-button">Toggle Text-to-Speech</button>
            <select id="voice-selection"></select>
            <a href="/troubleshooting_guide">Update Troubleshooting Guide</a>
            <a href="/tsg_search_problems">Search Troubleshooting</a>
            <a href="/upload_image" class="upload-button">Upload Images</a>
            <a href="/logout" class="logout-button">Logout</a>
            <div class="model-display-section">
                <p>Current AI Model: {{ current_ai_model }}</p>
                <p>Current Embedding Model: {{ current_embedding_model }}</p>
            </div>
        </div>
        
        <!-- Right side content -->
        <div class="content">
            <div class="answer-section" id="answer-section">
                <p id="answer"></p>
            </div>
            
            <div class="thumbnails-section" id="thumbnails-section">
                <!-- Thumbnails will be displayed here -->
            </div>
            
            <div class="doc-links-section" id="doc-links-section">
                <!-- Hoverable links for relevant documents will be displayed here -->
            </div>

            <div class="user-input-container">
                <input type="text" id="user_id" placeholder="User ID" value="{{ employee_id }}" readonly style="display: none;">
                <select id="area" style="display: none;">
                    <!-- Options will be populated here -->
                </select>
                <div class="input-and-button">
                    <textarea id="user_input" placeholder="Your Question" rows="2" cols="50"></textarea>
                    <button id="submit-question">Ask</button>
                </div>
            </div>

            <div class="comment-box">
                <textarea id="comment" placeholder="Comment, suggestions or corrections"></textarea>
                <div class="rating-section">
                    <label for="rating">Rating:</label>
                    <select id="rating">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                    <button id="submit_comment_rating">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Link to the external JavaScript file -->
    <script src="{{ url_for('static', filename='chatbot.js') }}"></script>
    <script src="{{ url_for('static', filename='chatbot_display_thumbnails.js') }}"></script>
    <script src="{{ url_for('static', filename='update_qanda_table.js') }}"></script>
    <script>
        document.getElementById("sidebarCollapse").onclick = function() {
            document.querySelector(".main-container").classList.toggle("collapsed");
        };

        document.getElementById("closeSidebar").onclick = function() {
            document.querySelector(".main-container").classList.toggle("collapsed");
        };

        // Add functionality to toggle buttons to highlight when active
        document.getElementById("toggle-voice").onclick = function() {
            this.classList.toggle("active");
        };

        document.getElementById("toggle-text-to-speech").onclick = function() {
            this.classList.toggle("active");
        };
    </script>
</body>
</html>
