<!-- Add Position Dependencies Section (Collapsible) -->
<details id="addPositionDependencies" open>
    <summary>Add Position Dependencies</summary>

    <form id="addPositionDependenciesForm" action="{{ url_for('position_data_assignment_bp.add_position') }}" method="post" enctype="multipart/form-data">
        <!-- Display the position information (ID and Name, for example) -->
        <div>
            <h3>Adding Position Dependencies for: {{ position.id }} - {{ position.name }}</h3>
        </div>

        <!-- Hidden field for Position ID -->
        <input type="hidden" id="position_id" name="position_id" value="{{ position.id }}">

        <!-- Add Area (Collapsible Section) -->
        <details>
            <summary>Add Area</summary>
            <div>
                <label for="edit_areaDropdown">Select Area:</label>
                <select name="area_id" id="edit_areaDropdown">
                    <option value="">Select Area</option>
                    {% for area in areas %}
                        <option value="{{ area.id }}" {% if position and area.id == position.area_id %}selected{% endif %}>{{ area.name }}</option>
                    {% endfor %}
                </select>

                <!-- New Area Button -->
                <button type="button" onclick="toggleNewAreaForm()">Add New Area</button>

                <!-- Inline Form for Adding New Area (Initially Hidden) -->
                <div id="newAreaForm" style="display:none;">
                    <h4>Add New Area</h4>
                    <label for="new_area_name">New Area Name:</label>
                    <input type="text" id="new_area_name" name="new_area_name">

                    <label for="new_area_description">New Area Description:</label>
                    <textarea id="new_area_description" name="new_area_description"></textarea>
                </div>
            </div>
        </details>

        <!-- Add Equipment Group (Collapsible Section) -->
        <details>
            <summary>Add Equipment Group</summary>
            <div>
                <label for="edit_equipmentGroupDropdown">Select Equipment Group:</label>
                <select name="equipment_group_id" id="edit_equipmentGroupDropdown">
                    <option value="">Select Equipment Group</option>
                    {% for group in equipment_groups %}
                        <option value="{{ group.id }}" {% if position and group.id == position.equipment_group_id %}selected{% endif %}>{{ group.name }}</option>
                    {% endfor %}
                </select>

                <!-- New Equipment Group Button -->
                <button type="button" onclick="toggleNewEquipmentGroupForm()">Add New Equipment Group</button>

                <!-- Inline Form for Adding New Equipment Group (Initially Hidden) -->
                <div id="newEquipmentGroupForm" style="display:none;">
                    <h4>Add New Equipment Group</h4>
                    <label for="new_equipmentGroup_name">New Equipment Group Name:</label>
                    <input type="text" id="new_equipmentGroup_name" name="new_equipmentGroup_name">

                    <label for="new_equipmentGroup_description">New Equipment Group Description:</label>
                    <textarea id="new_equipmentGroup_description" name="new_equipmentGroup_description"></textarea>
                </div>
            </div>
        </details>

        <!-- Add Model (Collapsible Section) -->
        <details>
            <summary>Add Model</summary>
            <div>
                <label for="edit_modelDropdown">Select Model:</label>
                <select name="model_id" id="edit_modelDropdown">
                    <option value="">Select Model</option>
                    {% for model in models %}
                        <option value="{{ model.id }}" {% if position and model.id == position.model_id %}selected{% endif %}>{{ model.name }}</option>
                    {% endfor %}
                </select>

                <!-- New Model Button -->
                <button type="button" onclick="toggleNewModelForm()">Add New Model</button>

                <!-- Inline Form for Adding New Model (Initially Hidden) -->
                <div id="newModelForm" style="display:none;">
                    <h4>Add New Model</h4>
                    <label for="new_model_name">New Model Name:</label>
                    <input type="text" id="new_model_name" name="new_model_name">

                    <label for="new_model_description">New Model Description:</label>
                    <textarea id="new_model_description" name="new_model_description"></textarea>
                </div>
            </div>
        </details>

        <!-- Add Asset Number (Collapsible Section) -->
        <details>
            <summary>Add Asset Number</summary>
            <div>
                <label for="edit_assetNumberDropdown">Select Asset Number:</label>
                <select name="asset_number_id" id="edit_assetNumberDropdown">
                    <option value="">Select Asset Number</option>
                    {% for asset in asset_numbers %}
                        <option value="{{ asset.id }}" {% if position and asset.id == position.asset_number_id %}selected{% endif %}>{{ asset.number }}</option>
                    {% endfor %}
                </select>

                <!-- New Asset Number Button -->
                <button type="button" onclick="toggleNewAssetNumberForm()">Add New Asset Number</button>

                <!-- Inline Form for Adding New Asset Number (Initially Hidden) -->
                <div id="newAssetNumberForm" style="display:none;">
                    <h4>Add New Asset Number</h4>
                    <label for="new_assetNumber">New Asset Number:</label>
                    <input type="text" id="new_assetNumber" name="new_assetNumber">

                    <label for="new_assetNumber_description">New Asset Number Description:</label>
                    <textarea id="new_assetNumber_description" name="new_assetNumber_description"></textarea>
                </div>
            </div>
        </details>

        <!-- Add Location (Collapsible Section) -->
        <details>
            <summary>Add Location</summary>
            <div>
                <label for="edit_locationDropdown">Select Location:</label>
                <select name="location_id" id="edit_locationDropdown">
                    <option value="">Select Location</option>
                    {% for location in locations %}
                        <option value="{{ location.id }}" {% if position and location.id == position.location_id %}selected{% endif %}>{{ location.name }}</option>
                    {% endfor %}
                </select>

                <!-- New Location Button -->
                <button type="button" onclick="toggleNewLocationForm()">Add New Location</button>

                <!-- Inline Form for Adding New Location (Initially Hidden) -->
                <div id="newLocationForm" style="display:none;">
                    <h4>Add New Location</h4>
                    <label for="new_location_name">New Location Name:</label>
                    <input type="text" id="new_location_name" name="new_location_name">

                    <label for="new_location_description">New Location Description:</label>
                    <textarea id="new_location_description" name="new_location_description"></textarea>
                </div>
            </div>
        </details>

        <!-- Add Site Location (Collapsible Section) -->
        <details>
            <summary>Add Site Location</summary>
            <div>
                <label for="edit_siteLocationDropdown">Select Site Location:</label>
                <select name="site_location_id" id="edit_siteLocationDropdown">
                    <option value="">Select Site Location</option>
                    {% for site in site_locations %}
                        <option value="{{ site.id }}" {% if position and site.id == position.site_location_id %}selected{% endif %}>{{ site.title }}</option>
                    {% endfor %}
                </select>

                <!-- New Site Location Button -->
                <button type="button" onclick="toggleNewSiteLocationForm()">Add New Site Location</button>

                <!-- Inline Form for Adding New Site Location (Initially Hidden) -->
                <div id="newSiteLocationForm" style="display:none;">
                    <h4>Add New Site Location</h4>
                    <label for="new_siteLocation_title">New Site Location Title:</label>
                    <input type="text" id="new_siteLocation_title" name="new_siteLocation_title">

                    <label for="new_siteLocation_roomNumber">Room Number:</label>
                    <input type="text" id="new_siteLocation_roomNumber" name="new_siteLocation_room_number">
                </div>
            </div>
        </details>